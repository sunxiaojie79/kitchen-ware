{"version":3,"file":"index.js","sources":["pages/device-info/index.vue","pages/device-info/index.vue?type=page"],"sourcesContent":["<template>\n  <view class=\"container\">\n    <!-- ‰∏äÈÉ®ÂàÜ -->\n    <view class=\"top-section section\">\n      <image class=\"device-icon\" src=\"/static/device.png\"></image>\n      <view class=\"icon-wrapper\">\n        <view\n          class=\"icon-row\"\n          hover-class=\"none\"\n          hover-stop-propagation=\"false\"\n        >\n          <image class=\"icon-wifi\" src=\"/static/WIFI.png\"></image>\n          <image class=\"icon-bluetooth\" src=\"/static/bluetooth.png\"></image>\n          <view class=\"icon-text\">IMEI</view>\n        </view>\n        <view class=\"connect-btn\" @click=\"addDevice\">ËóçÁâôÈÄ£Êé•WIFI</view>\n      </view>\n    </view>\n\n    <!-- ‰∏≠ÈÉ®ËÆæÂ§áÊï∞ÊçÆ -->\n    <view class=\"section\">\n      <view class=\"data-title\">Ë®≠ÂÇôÊï∏Êìö</view>\n      <view class=\"data-section\">\n        <view\n          class=\"data-item\"\n          v-for=\"(item, index) in deviceData\"\n          :key=\"index\"\n        >\n          <view class=\"data-content\">\n            <text class=\"label\">{{ item.label }}</text>\n            <view class=\"value\">\n              <template v-if=\"isStatusValue(item.value)\">\n                <text :class=\"getStatusClass(item.value)\">{{\n                  item.value\n                }}</text>\n              </template>\n              <template v-else>\n                <template\n                  v-for=\"(part, index) in splitValue(item.value)\"\n                  :key=\"index\"\n                >\n                  <text :class=\"{ number: isNumber(part) }\">{{ part }}</text>\n                </template>\n              </template>\n            </view>\n          </view>\n        </view>\n      </view>\n    </view>\n\n    <!-- ‰∏ãÈÉ®ÂàÜÈ´òÁ∫ßËÆæÁΩÆ -->\n    <!-- <view class=\"section\"> -->\n    <!-- <view class=\"data-title\">È´òÁ¥öË®≠ÁΩÆ</view>\n      <view class=\"advanced-settings\">\n        <view class=\"setting-item\" @click=\"connectWifi\">\n          <view\n            class=\"setting-item-content\"\n            hover-class=\"none\"\n            hover-stop-propagation=\"false\"\n          >\n            <text>ÈÄ£Êé•WIFI</text>\n            <image class=\"icon\" src=\"/static/WIFI.png\"></image>\n          </view>\n        </view> -->\n    <!-- \n        <view class=\"setting-item\" @click=\"deviceSettings\">\n          <view\n            class=\"setting-item-content\"\n            hover-class=\"none\"\n            hover-stop-propagation=\"false\"\n          >\n            <text>Ë®≠ÂÇôËß£Á∂Å</text>\n            <image class=\"icon\" src=\"/static/link_delete.png\"></image>\n          </view>\n        </view> -->\n    <!-- </view> -->\n    <!-- </view> -->\n  </view>\n</template>\n\n<script setup>\nimport { ref, onMounted } from \"vue\";\n\nconst deviceData = ref([]);\n// Ê∑ªÂä†ËÆæÂ§á\nconst addDevice = () => {\n  const pages = getCurrentPages();\n  const currentPage = pages[pages.length - 1];\n  uni.navigateTo({\n    url: `/pages/device-add/index?productKey=${encodeURIComponent(\n      currentPage.options.productKey\n    )}&deviceSecret=${encodeURIComponent(\n      currentPage.options.deviceSecret\n    )}&deviceName=${encodeURIComponent(currentPage.options.deviceName)}`,\n  });\n};\n// Ëé∑ÂèñËÆæÂ§áËØ¶ÊÉÖÊï∞ÊçÆ\nconst getDeviceInfo = async (deviceName) => {\n  try {\n    const res = await uni.request({\n      url: `https://yczmcj.com/prod-api/device/deviceProp`,\n      method: \"GET\",\n      data: {\n        deviceName: deviceName,\n      },\n      header: {\n        \"Content-Type\": \"application/json\",\n      },\n    });\n    console.log(111, res.data);\n    if (res.data.code === 200) {\n      // ËΩ¨Êç¢Êï∞ÊçÆ‰∏∫ÊòæÁ§∫Ê†ºÂºè\n      deviceData.value = [\n        { label: \"ÁÅ´Á®ÆÊôÇÈñì\", value: `${res.data.data.sparkFireWorkMinutes}ÂàÜ` },\n        { label: \"Á¥∞ÁÅ´ÊôÇÈñì\", value: `${res.data.data.smallFireWorkMinutes}ÂàÜ` },\n        { label: \"Â§ßÁÅ´ÊôÇÈñì\", value: `${res.data.data.bigFireWorkMinutes}ÂàÜ` },\n        { label: \"Áí∞‰øùÁÅ´ÊôÇÈñì\", value: `${res.data.data.epFireWorkMinutes}ÂàÜ` },\n        { label: \"ÈÄ≤Ê∞¥Èáè\", value: `${res.data.data.inflowWater}Á´ãÊñπ` },\n        { label: \"ÊéíÊ∞¥Ê¨°Êï∏\", value: `${res.data.data.drainCount}Ê¨°` },\n        {\n          label: \"ÂºïÁÅ´Âô®\",\n          value: `${res.data.data.igniter === 0 ? \"Ê≠£Â∏∏\" : \"‰∏çÊ≠£Â∏∏\"}`,\n        },\n        {\n          label: \"ÁÅ´Á®ÆÈñ•ÈñÄ\",\n          value: `${res.data.data.sparkValve === 0 ? \"Ê≠£Â∏∏\" : \"‰∏çÊ≠£Â∏∏\"}`,\n        },\n        {\n          label: \"Á¥∞ÁÅ´Èñ•\",\n          value: `${res.data.data.smallFireValve === 0 ? \"Ê≠£Â∏∏\" : \"‰∏çÊ≠£Â∏∏\"}`,\n        },\n        {\n          label: \"Â§ßÁÅ´Èñ•\",\n          value: `${res.data.data.bigFireValve === 0 ? \"Ê≠£Â∏∏\" : \"‰∏çÊ≠£Â∏∏\"}`,\n        },\n        {\n          label: \"Áí∞‰øùÈñ•\",\n          value: `${res.data.data.epFireValve === 0 ? \"Ê≠£Â∏∏\" : \"‰∏çÊ≠£Â∏∏\"}`,\n        },\n        {\n          label: \"ÊéíÊ∞¥Èñ•\",\n          value: `${res.data.data.drainValve === 0 ? \"Ê≠£Â∏∏\" : \"‰∏çÊ≠£Â∏∏\"}`,\n        },\n      ];\n    } else {\n      uni.showToast({\n        title: \"Áç≤ÂèñË®≠ÂÇôË©≥ÊÉÖÂ§±Êïó\",\n        icon: \"none\",\n      });\n    }\n  } catch (error) {\n    console.error(\"Áç≤ÂèñË®≠ÂÇôË©≥ÊÉÖÈåØË™§:\", error);\n    uni.showToast({\n      title: \"Á∂≤Áµ°Ë´ãÊ±ÇÂ§±Êïó\",\n      icon: \"none\",\n    });\n  }\n};\n\n// È°µÈù¢Âä†ËΩΩÊó∂Ëé∑ÂèñËÆæÂ§áËØ¶ÊÉÖ\nonMounted(() => {\n  const pages = getCurrentPages();\n  console.log(\"üöÄ ~ onMounted ~ pages:\", pages);\n  const currentPage = pages[pages.length - 1];\n  const deviceName = decodeURIComponent(currentPage.options.deviceName);\n\n  if (deviceName) {\n    getDeviceInfo(deviceName);\n  }\n});\n\n// ÂàÜÁ¶ªÊï∞Â≠óÂíåÈùûÊï∞Â≠ó\nconst splitValue = (value) => {\n  return value.split(/(\\d+)/).filter(Boolean);\n};\n\nconst isNumber = (str) => {\n  return /^\\d+$/.test(str);\n};\n\nconst connectWifi = () => {\n  // ËøûÊé•WiFiÈÄªËæë\n};\n\nconst deviceSettings = () => {\n  // ËÆæÂ§áËÆæÁΩÆÈÄªËæë\n};\n\n// Âà§Êñ≠ÊòØÂê¶‰∏∫Áä∂ÊÄÅÂÄºÔºàÊ≠£Â∏∏/‰∏çÊ≠£Â∏∏Ôºâ\nconst isStatusValue = (value) => {\n  return value === \"Ê≠£Â∏∏\" || value === \"‰∏çÊ≠£Â∏∏\";\n};\n\n// Ëé∑ÂèñÁä∂ÊÄÅÂÄºÁöÑÊ†∑ÂºèÁ±ª\nconst getStatusClass = (value) => {\n  return value === \"Ê≠£Â∏∏\" ? \"status-normal\" : \"status-abnormal\";\n};\n</script>\n\n<style>\n.container {\n  background-color: #000;\n  min-height: 100vh;\n  gap: 20rpx;\n}\n\n.section {\n  border-radius: 10rpx;\n  overflow: hidden;\n  margin-bottom: 20rpx;\n  background-color: #1a1a1a;\n  padding: 20rpx;\n}\n\n.top-section {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 30rpx;\n}\n\n.device-icon {\n  width: 180rpx;\n  height: 180rpx;\n  margin-bottom: 60rpx;\n}\n.icon-wrapper {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n}\n.icon-row {\n  display: flex;\n  justify-content: space-around;\n  width: 40%;\n}\n\n.icon-wifi {\n  width: 60rpx;\n  height: 60rpx;\n  margin-right: 20rpx;\n}\n\n.icon-bluetooth {\n  width: 44rpx;\n  height: 60rpx;\n  margin-right: 20rpx;\n}\n.icon-text {\n  color: #fff;\n  font-size: 32rpx;\n  height: 60rpx;\n  line-height: 60rpx;\n  background-color: #636568;\n  padding: 0 20rpx;\n}\n.connect-btn {\n  background-color: #2467b0;\n  color: #fff;\n  font-size: 32rpx;\n  padding: 10rpx 40rpx;\n  border-radius: 6rpx;\n  margin-right: 20rpx;\n}\n.data-title {\n  color: #fff;\n  font-size: 32rpx;\n  margin-bottom: 20rpx;\n}\n.data-section {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n}\n\n.data-item {\n  width: 45%;\n  border: 1px solid #ccc;\n  border-radius: 10rpx;\n  margin-bottom: 20rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 120rpx;\n}\n\n.data-content {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n  padding: 10rpx 0;\n}\n\n.label {\n  color: #fff;\n  font-size: 32rpx;\n  margin-bottom: 8rpx;\n  text-align: center;\n}\n\n.value {\n  font-size: 32rpx;\n  text-align: center;\n  color: #fff;\n  display: flex;\n  justify-content: center;\n}\n\n.value .number {\n  color: #ffb800;\n  font-weight: bold;\n}\n\n.value .status-normal {\n  color: #00ff00; /* ÁªøËâ≤ */\n  font-weight: bold;\n}\n\n.value .status-abnormal {\n  color: #ff0000; /* Á∫¢Ëâ≤ */\n  font-weight: bold;\n}\n\n.advanced-settings {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.setting-item {\n  background-color: #1a1a1a;\n  color: #fff;\n  border-radius: 10rpx;\n  text-align: center;\n  width: 45%;\n  border: 1px solid #ccc;\n  gap: 10rpx;\n}\n.setting-item-content {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 10rpx 20rpx;\n  justify-content: space-between;\n  gap: 10rpx;\n}\n.setting-item text {\n  font-size: 32rpx;\n}\n\n.icon {\n  width: 60rpx;\n  height: 60rpx;\n}\n</style>\n","import MiniProgramPage from '/Users/sunjie/Desktop/my-project/kitchen-ware/pages/device-info/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni","onMounted","MiniProgramPage"],"mappings":"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"}